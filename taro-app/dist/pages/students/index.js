"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[81],{1219:function(e,n,s){var a=s(2180),t=s(1413),l=s(3433),r=s(2688),c=s(5861),i=s(9439),o=s(7294),u=s(1515),d=s(2954),m=s.n(d),x=s(4751),h=s(4266),p=s(5686),v=s(7724),j=s(4818),f=s(5893),N=["\u5341\u4e03\u5e7c","\u4e5d\u5e7c","\u5341\u4e8c\u5e7c","\u5341\u5e7c","\u516b\u5e7c","\u4e03\u5e7c","\u521b\u8d8a","\u65b0\u5e02\u82b1\u56ed","\u9ad8\u65b0","\u5357\u6c5f"],g=["A","B","AB","O","\u672a\u77e5"],b=["\u7236\u4eb2","\u6bcd\u4eb2","\u7237\u7237","\u5976\u5976","\u5916\u516c","\u5916\u5a46","\u5176\u4ed6"],G=[{value:"standard",label:"\u6807\u51c6\u73ed"},{value:"excellence",label:"\u4f18\u82d7\u73ed"},{value:"music",label:"\u97f3\u4e50\u73ed"}];function Z(){(0,x.Z)({title:"\u91d1\u661f\u5e7c\u513f\u56ed - \u5b66\u751f\u7ba1\u7406",path:"/pages/students/index"});var e=(0,d.useRouter)(),n=(0,o.useState)([]),s=(0,i.Z)(n,2),a=s[0],Z=s[1],_=(0,o.useState)(""),y=(0,i.Z)(_,2),I=y[0],S=y[1],T=(0,o.useState)("\u5168\u90e8"),w=(0,i.Z)(T,2),C=w[0],D=w[1];(0,o.useEffect)(function(){var n=e.params.class;if(n)D(decodeURIComponent(n));else{var s=(0,h.O)("/pages/students/index");null!==s&&void 0!==s&&s.class&&D(s.class)}},[e.params.class]);var k=(0,o.useState)(!1),O=(0,i.Z)(k,2),q=O[0],R=O[1],A=(0,o.useState)(1),M=(0,i.Z)(A,2),P=M[0],E=M[1],Y=(0,o.useState)({name:"",gender:"\u7537",birthDate:"",class:"",campus:"\u5341\u4e03\u5e7c",bloodType:"\u672a\u77e5",allergies:"",dietaryRestrictions:"",parent_name:"",parent_phone:"",parent_relation:"\u7236\u4eb2",emergency_contact:"",emergency_phone:"",emergency_relation:"",enrollDate:(new Date).toISOString().split("T")[0],studentNumber:"",classType:"standard",address:"",specialNeeds:""}),B=(0,i.Z)(Y,2),J=B[0],X=B[1],z=(0,o.useState)(!1),F=(0,i.Z)(z,2),U=F[0],W=F[1],H=(0,o.useState)(!1),K=(0,i.Z)(H,2),L=K[0],$=K[1],Q=(0,o.useState)([]),V=(0,i.Z)(Q,2),ee=V[0],ne=V[1],se=(0,o.useState)(""),ae=(0,i.Z)(se,2),te=ae[0],le=ae[1];(0,o.useEffect)(function(){ce(),re()},[]),(0,d.useDidShow)(function(){ce(),re();var e=(0,h.O)("/pages/students/index");null!==e&&void 0!==e&&e.class&&D(e.class)});var re=function(){var e,n=(0,v.ts)();W((0,v.GJ)(n)),ne((0,v.A)(n)),le((0,v.lk)(n));var s="KITCHEN"===(null===n||void 0===n||null===(e=n.role)||void 0===e?void 0:e.toUpperCase());$(!s)},ce=function(){var e=(0,c.Z)((0,r.Z)().m(function e(){var n,s,a,t,l;return(0,r.Z)().w(function(e){while(1)switch(e.p=e.n){case 0:return n=m().getStorageSync("kt_students")||[],console.log("[Students] \u672c\u5730\u6570\u636e:",n.length,"\u6761"),s=(0,v.vX)(n),Z(s),console.log("[Students] \u6743\u9650\u8fc7\u6ee4\u540e:",s.length,"\u6761"),e.p=1,e.n=2,(0,p.wL)();case 2:a=e.v,a.success&&a.data&&a.data.length>0&&(t=(0,v.vX)(a.data),Z(t),console.log("[Students] \u4e91\u7aef\u6570\u636e\u5df2\u540c\u6b65:",t.length,"\u6761 (\u539f",a.data.length,"\u6761)")),e.n=4;break;case 3:e.p=3,l=e.v,console.log("[Students] \u4e91\u7aef\u540c\u6b65\u8df3\u8fc7:",l);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ie=function(e){return e.class||e.className||"\u672a\u5206\u73ed"},oe=function(e){return e.parent_name||e.parentName||""},ue=function(e){return e.parent_phone||e.parentPhone||""},de=(0,o.useMemo)(function(){if(U){var e=new Set;a.forEach(function(n){var s=ie(n);s&&"\u672a\u5206\u73ed"!==s&&e.add(s)});var n=Array.from(e).sort(function(e,n){return e.localeCompare(n,"zh-CN")});return["\u5168\u90e8"].concat((0,l.Z)(n))}return 0===ee.length?["\u5168\u90e8"]:["\u5168\u90e8"].concat((0,l.Z)(ee))},[a,U,ee]),me=a.filter(function(e){var n,s=oe(e),a=ue(e),t=!I||(null===(n=e.name)||void 0===n?void 0:n.includes(I))||s.includes(I)||a.includes(I),l=ie(e),r="\u5168\u90e8"===C||l===C;return t&&r}),xe=me.reduce(function(e,n){var s=ie(n);return e[s]||(e[s]=[]),e[s].push(n),e},{}),he=Object.entries(xe).sort(function(e,n){return e[0].localeCompare(n[0],"zh-CN")}),pe=function(e){m().navigateTo({url:"/pages/students/detail?id=".concat(e.id)})},ve=function(e,n){e.stopPropagation(),m().navigateTo({url:"/pages/students/attendance?id=".concat(n.id,"&name=").concat(n.name,"&class=").concat(ie(n))})},je=function(){X({name:"",gender:"\u7537",birthDate:"",class:"",campus:"\u5341\u4e03\u5e7c",bloodType:"\u672a\u77e5",allergies:"",dietaryRestrictions:"",parent_name:"",parent_phone:"",parent_relation:"\u7236\u4eb2",emergency_contact:"",emergency_phone:"",emergency_relation:"",enrollDate:(new Date).toISOString().split("T")[0],studentNumber:"",classType:"standard",address:"",specialNeeds:""}),E(1)},fe=function(e){if(1===e){if(!J.name.trim())return m().showToast({title:"\u8bf7\u8f93\u5165\u5b66\u751f\u59d3\u540d",icon:"none"}),!1;if(!J.birthDate)return m().showToast({title:"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f",icon:"none"}),!1;if(!J.class)return m().showToast({title:"\u8bf7\u9009\u62e9\u73ed\u7ea7",icon:"none"}),!1}if(2===e){if(!J.parent_name.trim())return m().showToast({title:"\u8bf7\u8f93\u5165\u5bb6\u957f\u59d3\u540d",icon:"none"}),!1;if(!J.parent_phone.trim())return m().showToast({title:"\u8bf7\u8f93\u5165\u5bb6\u957f\u7535\u8bdd",icon:"none"}),!1;if(!/^1\d{10}$/.test(J.parent_phone))return m().showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",icon:"none"}),!1}return!0},Ne=function(){fe(P)&&E(P+1)},ge=function(){E(P-1)},be=function(e){if(!e)return 0;var n=new Date(e),s=new Date,a=s.getFullYear()-n.getFullYear(),t=s.getMonth()-n.getMonth();return(t<0||0===t&&s.getDate()<n.getDate())&&a--,a},Ge=function(){if(fe(P)){var e=J.allergies?J.allergies.split(/[,\uff0c\u3001\s]+/).filter(function(e){return e.trim()}):[],n={id:"stu_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),name:J.name.trim(),gender:J.gender,birthDate:J.birthDate,class:J.class,campus:J.campus,status:"present",bloodType:J.bloodType,allergies:e,dietaryRestrictions:J.dietaryRestrictions||void 0,parent_name:J.parent_name.trim(),parent_phone:J.parent_phone.trim(),parent_relation:J.parent_relation,emergency_contact:J.emergency_contact||void 0,emergency_phone:J.emergency_phone||void 0,emergency_relation:J.emergency_relation||void 0,enrollDate:J.enrollDate,studentNumber:J.studentNumber||void 0,classType:J.classType,address:J.address||void 0,specialNeeds:J.specialNeeds||void 0,className:J.class,parentName:J.parent_name.trim(),parentPhone:J.parent_phone.trim()},s=[].concat((0,l.Z)(a),[n]);m().setStorageSync("kt_students",s),Z(s),R(!1),je(),m().showToast({title:"\u6dfb\u52a0\u6210\u529f",icon:"success"}),(0,p.sh)(n).then(function(e){e.success?console.log("[Students] \u65b0\u5b66\u751f\u5df2\u540c\u6b65\u5230\u4e91\u7aef:",n.name):console.error("[Students] \u540c\u6b65\u5931\u8d25:",e.error)})}};return(0,f.jsxs)(u.G7,{className:"students-page",children:[(0,f.jsx)(j.Z,{title:"\u5b66\u751f\u7ba1\u7406"}),(0,f.jsx)(j.p,{}),(0,f.jsxs)(u.G7,{className:"search-bar",children:[(0,f.jsxs)(u.G7,{className:"search-input",children:[(0,f.jsx)(u.xv,{className:"icon",children:"\ud83d\udd0d"}),(0,f.jsx)(u.II,{placeholder:"\u641c\u7d22\u59d3\u540d/\u5bb6\u957f/\u7535\u8bdd",value:I,onInput:function(e){return S(e.detail.value)}})]}),L&&(0,f.jsx)(u.G7,{className:"add-btn",onClick:function(){return R(!0)},children:(0,f.jsx)(u.xv,{children:"+"})})]}),(0,f.jsx)(u.pf,{className:"class-filter",scrollX:!0,children:de.map(function(e){return(0,f.jsxs)(u.G7,{className:"filter-item ".concat(C===e?"active":""),onClick:function(){return D(e)},children:[(0,f.jsx)(u.xv,{children:e}),"\u5168\u90e8"!==e&&(0,f.jsx)(u.xv,{className:"count",children:a.filter(function(n){return ie(n)===e}).length})]},e)})}),(0,f.jsxs)(u.G7,{className:"stats-bar",children:[(0,f.jsxs)(u.xv,{children:["\u5171 ",me.length," \u540d\u5b66\u751f"]}),(0,f.jsx)(u.xv,{className:"permission-hint",children:te})]}),(0,f.jsxs)(u.pf,{className:"student-list",scrollY:!0,children:["\u5168\u90e8"===C?he.map(function(e){var n=(0,i.Z)(e,2),s=n[0],a=n[1];return(0,f.jsxs)(u.G7,{className:"class-group",children:[(0,f.jsxs)(u.G7,{className:"class-header",children:[(0,f.jsx)(u.xv,{className:"class-name",children:s}),(0,f.jsxs)(u.xv,{className:"count",children:[a.length,"\u4eba"]})]}),a.map(function(e){return(0,f.jsxs)(u.G7,{className:"student-card",onClick:function(){return pe(e)},children:[(0,f.jsx)(u.G7,{className:"avatar",children:(0,f.jsx)(u.xv,{children:"\u5973"===e.gender?"\ud83d\udc67":"\ud83d\udc66"})}),(0,f.jsxs)(u.G7,{className:"info",children:[(0,f.jsx)(u.xv,{className:"name",children:e.name}),(0,f.jsx)(u.xv,{className:"meta",children:ue(e)||"\u672a\u586b\u7535\u8bdd"})]}),(0,f.jsx)(u.G7,{className:"arrow",children:(0,f.jsx)(u.xv,{children:"\u203a"})})]},e.id)})]},s)}):(0,f.jsx)(u.G7,{className:"flat-list",children:me.map(function(e){return(0,f.jsxs)(u.G7,{className:"student-card",onClick:function(){return pe(e)},children:[(0,f.jsx)(u.G7,{className:"avatar",children:(0,f.jsx)(u.xv,{children:"\u5973"===e.gender?"\ud83d\udc67":"\ud83d\udc66"})}),(0,f.jsxs)(u.G7,{className:"info",children:[(0,f.jsx)(u.xv,{className:"name",children:e.name}),(0,f.jsxs)(u.xv,{className:"meta",children:[oe(e)||"\u672a\u586b\u5bb6\u957f"," \xb7 ",ue(e)||"\u672a\u586b\u7535\u8bdd"]})]}),(0,f.jsx)(u.G7,{className:"actions",children:(0,f.jsx)(u.G7,{className:"action-btn",onClick:function(n){return ve(n,e)},children:(0,f.jsx)(u.xv,{children:"\ud83d\udccb"})})})]},e.id)})}),0===me.length&&(0,f.jsxs)(u.G7,{className:"empty",children:[(0,f.jsx)(u.xv,{className:"icon",children:"\ud83d\udced"}),(0,f.jsx)(u.xv,{children:"\u6682\u65e0\u5b66\u751f\u6570\u636e"}),(0,f.jsx)(u.xv,{className:"hint",children:"\u8bf7\u5728\u300c\u6211\u7684\u300d\u9875\u9762\u540c\u6b65\u4e91\u7aef\u6570\u636e"})]})]}),q&&(0,f.jsx)(u.G7,{className:"modal-overlay",onClick:function(){R(!1),je()},children:(0,f.jsxs)(u.G7,{className:"modal-content large",onClick:function(e){return e.stopPropagation()},children:[(0,f.jsxs)(u.G7,{className:"step-indicator",children:[(0,f.jsxs)(u.G7,{className:"step ".concat(P>=1?"active":""),children:[(0,f.jsx)(u.xv,{className:"num",children:"1"}),(0,f.jsx)(u.xv,{className:"label",children:"\u57fa\u672c\u4fe1\u606f"})]}),(0,f.jsx)(u.G7,{className:"line"}),(0,f.jsxs)(u.G7,{className:"step ".concat(P>=2?"active":""),children:[(0,f.jsx)(u.xv,{className:"num",children:"2"}),(0,f.jsx)(u.xv,{className:"label",children:"\u5bb6\u957f\u4fe1\u606f"})]}),(0,f.jsx)(u.G7,{className:"line"}),(0,f.jsxs)(u.G7,{className:"step ".concat(P>=3?"active":""),children:[(0,f.jsx)(u.xv,{className:"num",children:"3"}),(0,f.jsx)(u.xv,{className:"label",children:"\u5176\u4ed6\u4fe1\u606f"})]})]}),(0,f.jsxs)(u.pf,{className:"form-scroll",scrollY:!0,children:[1===P&&(0,f.jsxs)(u.G7,{className:"form-section",children:[(0,f.jsx)(u.xv,{className:"section-title",children:"\u57fa\u672c\u4fe1\u606f"}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u59d3\u540d ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.II,{placeholder:"\u8bf7\u8f93\u5165\u5b66\u751f\u59d3\u540d",value:J.name,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{name:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u6027\u522b ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.G7,{className:"option-group",children:["\u7537","\u5973"].map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn ".concat(J.gender===e?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{gender:e})})},children:(0,f.jsxs)(u.xv,{children:["\u7537"===e?"\ud83d\udc66":"\ud83d\udc67"," ",e]})},e)})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u51fa\u751f\u65e5\u671f ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.cW,{mode:"date",value:J.birthDate,start:"2015-01-01",end:(new Date).toISOString().split("T")[0],onChange:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{birthDate:e.detail.value})})},children:(0,f.jsxs)(u.G7,{className:"picker-value",children:[J.birthDate||"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f",J.birthDate&&(0,f.jsxs)(u.xv,{className:"age-hint",children:["\uff08",be(J.birthDate),"\u5c81\uff09"]})]})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u56ed\u533a ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.G7,{className:"option-group wrap",children:N.map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn small ".concat(J.campus===e?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{campus:e})})},children:(0,f.jsx)(u.xv,{children:e})},e)})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u73ed\u7ea7 ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.G7,{className:"option-group wrap",children:de.filter(function(e){return"\u5168\u90e8"!==e}).length>0?de.filter(function(e){return"\u5168\u90e8"!==e}).map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn small ".concat(J.class===e?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{class:e})})},children:(0,f.jsx)(u.xv,{children:e})},e)}):(0,f.jsx)(u.II,{placeholder:"\u8bf7\u8f93\u5165\u73ed\u7ea7\u540d\u79f0\uff08\u5982\uff1a\u5927\u4e00\u73ed\uff09",value:J.class,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{class:e.detail.value})})}})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u73ed\u578b"}),(0,f.jsx)(u.G7,{className:"option-group",children:G.map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn ".concat(J.classType===e.value?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{classType:e.value})})},children:(0,f.jsx)(u.xv,{children:e.label})},e.value)})})]})]}),2===P&&(0,f.jsxs)(u.G7,{className:"form-section",children:[(0,f.jsx)(u.xv,{className:"section-title",children:"\u5bb6\u957f\u4fe1\u606f"}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u76d1\u62a4\u4eba\u59d3\u540d ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.II,{placeholder:"\u8bf7\u8f93\u5165\u5bb6\u957f\u59d3\u540d",value:J.parent_name,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{parent_name:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u4e0e\u5e7c\u513f\u5173\u7cfb ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.G7,{className:"option-group wrap",children:b.map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn small ".concat(J.parent_relation===e?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{parent_relation:e})})},children:(0,f.jsx)(u.xv,{children:e})},e)})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsxs)(u.xv,{className:"label",children:["\u8054\u7cfb\u7535\u8bdd ",(0,f.jsx)(u.xv,{className:"required",children:"*"})]}),(0,f.jsx)(u.II,{type:"number",maxlength:11,placeholder:"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",value:J.parent_phone,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{parent_phone:e.detail.value})})}})]}),(0,f.jsx)(u.G7,{className:"form-divider",children:(0,f.jsx)(u.xv,{children:"\u7d27\u6025\u8054\u7cfb\u4eba\uff08\u9009\u586b\uff09"})}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u7d27\u6025\u8054\u7cfb\u4eba"}),(0,f.jsx)(u.II,{placeholder:"\u8bf7\u8f93\u5165\u7d27\u6025\u8054\u7cfb\u4eba\u59d3\u540d",value:J.emergency_contact,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{emergency_contact:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u7d27\u6025\u8054\u7cfb\u7535\u8bdd"}),(0,f.jsx)(u.II,{type:"number",maxlength:11,placeholder:"\u8bf7\u8f93\u5165\u7d27\u6025\u8054\u7cfb\u7535\u8bdd",value:J.emergency_phone,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{emergency_phone:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u4e0e\u5e7c\u513f\u5173\u7cfb"}),(0,f.jsx)(u.II,{placeholder:"\u5982\uff1a\u53d4\u53d4\u3001\u59d1\u59d1\u7b49",value:J.emergency_relation,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{emergency_relation:e.detail.value})})}})]})]}),3===P&&(0,f.jsxs)(u.G7,{className:"form-section",children:[(0,f.jsx)(u.xv,{className:"section-title",children:"\u5165\u56ed\u4e0e\u5065\u5eb7\u4fe1\u606f"}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u5165\u56ed\u65e5\u671f"}),(0,f.jsx)(u.cW,{mode:"date",value:J.enrollDate,onChange:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{enrollDate:e.detail.value})})},children:(0,f.jsx)(u.G7,{className:"picker-value",children:J.enrollDate||"\u8bf7\u9009\u62e9\u5165\u56ed\u65e5\u671f"})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u5b66\u53f7"}),(0,f.jsx)(u.II,{placeholder:"\u9009\u586b\uff0c\u5982\u65e0\u53ef\u7559\u7a7a",value:J.studentNumber,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{studentNumber:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u8840\u578b"}),(0,f.jsx)(u.G7,{className:"option-group",children:g.map(function(e){return(0,f.jsx)(u.G7,{className:"option-btn small ".concat(J.bloodType===e?"active":""),onClick:function(){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{bloodType:e})})},children:(0,f.jsxs)(u.xv,{children:[e,"\u578b"]})},e)})})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u8fc7\u654f\u53f2"}),(0,f.jsx)(u.II,{placeholder:"\u5982\u6709\u591a\u9879\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a\u82b1\u751f\u3001\u725b\u5976",value:J.allergies,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{allergies:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u996e\u98df\u7981\u5fcc"}),(0,f.jsx)(u.II,{placeholder:"\u5982\uff1a\u4e0d\u5403\u732a\u8089\u3001\u7d20\u98df\u7b49",value:J.dietaryRestrictions,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{dietaryRestrictions:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u5bb6\u5ead\u4f4f\u5740"}),(0,f.jsx)(u.II,{placeholder:"\u9009\u586b",value:J.address,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{address:e.detail.value})})}})]}),(0,f.jsxs)(u.G7,{className:"form-item",children:[(0,f.jsx)(u.xv,{className:"label",children:"\u7279\u6b8a\u9700\u6c42"}),(0,f.jsx)(u.II,{placeholder:"\u5982\u6709\u7279\u6b8a\u60c5\u51b5\u8bf7\u8bf4\u660e",value:J.specialNeeds,onInput:function(e){return X(function(n){return(0,t.Z)((0,t.Z)({},n),{},{specialNeeds:e.detail.value})})}})]})]})]}),(0,f.jsxs)(u.G7,{className:"modal-actions",children:[P>1?(0,f.jsx)(u.G7,{className:"btn cancel",onClick:ge,children:(0,f.jsx)(u.xv,{children:"\u4e0a\u4e00\u6b65"})}):(0,f.jsx)(u.G7,{className:"btn cancel",onClick:function(){R(!1),je()},children:(0,f.jsx)(u.xv,{children:"\u53d6\u6d88"})}),P<3?(0,f.jsx)(u.G7,{className:"btn confirm",onClick:Ne,children:(0,f.jsx)(u.xv,{children:"\u4e0b\u4e00\u6b65"})}):(0,f.jsx)(u.G7,{className:"btn confirm",onClick:Ge,children:(0,f.jsx)(u.xv,{children:"\u786e\u8ba4\u6dfb\u52a0"})})]})]})})]})}var _={navigationStyle:"custom",navigationBarTitleText:"",enableShareAppMessage:!0,enableShareTimeline:!0};Z.enableShareTimeline=!0,Z.enableShareAppMessage=!0;Page((0,a.createPageConfig)(Z,"pages/students/index",{root:{cn:[]}},_||{}))}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[107,216,592],function(){return n(1219)});e.O()}]);